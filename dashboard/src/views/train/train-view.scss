@import "../../gfx/variables.scss";

.train-view {
	height: 100vh;
	overflow: hidden;

	.container {
		display: flex;
		flex-direction: column;
		height: 100%;
	}

	.chart-container {
		margin-top: auto;
		margin-bottom: 30px;
	}

	.route-container {
		margin: 0 100px 0 140px;
	}

	.route {
		$track-width: 50px;
		$station-size: 40px;

		height: 350px;
		position: relative;

		&__track {
			position: absolute;
			top: 0;
			left: 0;
			bottom: 0;
			right: 0;
			border: $track-width solid #ccc;
			border-radius: 120px;
		}

		&__track__2 {
			top: 1px;
			left: 1px;
			bottom: 1px;
			right: 1px;
			border: $track-width - 2px solid #eee;
		}

		&__track__3 {
			$edge-padding: 10px;

			top: $edge-padding;
			left: $edge-padding;
			bottom: $edge-padding;
			right: $edge-padding;
			border: $track-width - 20px double #ccc;
			border-radius: 110px;
			animation: 1s animateBorder infinite;
		}

		&__station {
			position: absolute;
			width: $station-size;
			height: $station-size;
			background-color: #00cc66;
			border-radius: 50%;
			border: 1px solid darken(#00cc66, 20%);

			&__title {
				position: absolute;
				white-space: nowrap;
				font-size: 32px;
			}

			&--active {
				background: red;
			}

			&--next {
				background: green;
			}

			&--central {
				bottom: 4px;
				left: 35%;

				.route__station__title {
					top: 100%;
					left: 50%;
					margin-top: 20px;
					transform: translateX(-50%);
				}
			}

			&--beach {
				bottom: 35%;
				right: 5px;

				.route__station__title {
					left: 100%;
					top: 50%;
					transform: translateY(calc(-50% + 2px));
					margin-left: 28px;
				}
			}

			&--police {
				top: 25%;
				left: 5px;

				.route__station__title {
					right: 100%;
					top: 50%;
					transform: translateY(-50%);
					margin-right: 28px;
				}
			}
		}

		&__direction {
			$size: 34px;

			position: absolute;
			border: 4px solid #fff;
			border-bottom-width: 0;
			border-left-width: 0;
			transform: rotate(-135deg);
			width: $size;
			height: $size;

			&__1, &__2, &__3, &__4  {
				top: 8px;
			}

			$top-left: 130px;
			$step: 140px;

			&__1 {
				left: $top-left;
			}

			&__2 {
				left: $top-left + $step;
			}

			&__3 {
				left: $top-left + $step * 2;
			}

			&__4 {
				left: $top-left + $step * 3;
			}
		}
	}

	@keyframes animateBorder {
		to {
			border-radius: 111px;
		}
	}

}